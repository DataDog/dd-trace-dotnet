// <copyright company="Datadog">
// Unless explicitly stated otherwise all files in this repository are licensed under the Apache 2 License.
// This product includes software developed at Datadog (https://www.datadoghq.com/). Copyright 2017 Datadog, Inc.
// </copyright>
// <auto-generated/>

#nullable enable

using Datadog.Trace.Processors;
using Datadog.Trace.Tagging;
using System;

namespace Datadog.Trace.Ci.Tagging
{
    partial class TestSpanTags
    {
        // SourceStartBytes = MessagePack.Serialize("test.source.start");
        private static ReadOnlySpan<byte> SourceStartBytes => new byte[] { 177, 116, 101, 115, 116, 46, 115, 111, 117, 114, 99, 101, 46, 115, 116, 97, 114, 116 };
        // SourceEndBytes = MessagePack.Serialize("test.source.end");
        private static ReadOnlySpan<byte> SourceEndBytes => new byte[] { 175, 116, 101, 115, 116, 46, 115, 111, 117, 114, 99, 101, 46, 101, 110, 100 };
        // NameBytes = MessagePack.Serialize("test.name");
        private static ReadOnlySpan<byte> NameBytes => new byte[] { 169, 116, 101, 115, 116, 46, 110, 97, 109, 101 };
        // ParametersBytes = MessagePack.Serialize("test.parameters");
        private static ReadOnlySpan<byte> ParametersBytes => new byte[] { 175, 116, 101, 115, 116, 46, 112, 97, 114, 97, 109, 101, 116, 101, 114, 115 };
        // TraitsBytes = MessagePack.Serialize("test.traits");
        private static ReadOnlySpan<byte> TraitsBytes => new byte[] { 171, 116, 101, 115, 116, 46, 116, 114, 97, 105, 116, 115 };
        // SkipReasonBytes = MessagePack.Serialize("test.skip_reason");
        private static ReadOnlySpan<byte> SkipReasonBytes => new byte[] { 176, 116, 101, 115, 116, 46, 115, 107, 105, 112, 95, 114, 101, 97, 115, 111, 110 };
        // SkippedByIntelligentTestRunnerBytes = MessagePack.Serialize("test.skipped_by_itr");
        private static ReadOnlySpan<byte> SkippedByIntelligentTestRunnerBytes => new byte[] { 179, 116, 101, 115, 116, 46, 115, 107, 105, 112, 112, 101, 100, 95, 98, 121, 95, 105, 116, 114 };
        // UnskippableBytes = MessagePack.Serialize("test.itr.unskippable");
        private static ReadOnlySpan<byte> UnskippableBytes => new byte[] { 180, 116, 101, 115, 116, 46, 105, 116, 114, 46, 117, 110, 115, 107, 105, 112, 112, 97, 98, 108, 101 };
        // ForcedRunBytes = MessagePack.Serialize("test.itr.forced_run");
        private static ReadOnlySpan<byte> ForcedRunBytes => new byte[] { 179, 116, 101, 115, 116, 46, 105, 116, 114, 46, 102, 111, 114, 99, 101, 100, 95, 114, 117, 110 };
        // TestIsNewBytes = MessagePack.Serialize("test.is_new");
        private static ReadOnlySpan<byte> TestIsNewBytes => new byte[] { 171, 116, 101, 115, 116, 46, 105, 115, 95, 110, 101, 119 };
        // TestIsRetryBytes = MessagePack.Serialize("test.is_retry");
        private static ReadOnlySpan<byte> TestIsRetryBytes => new byte[] { 173, 116, 101, 115, 116, 46, 105, 115, 95, 114, 101, 116, 114, 121 };
        // TestRetryReasonBytes = MessagePack.Serialize("test.retry_reason");
        private static ReadOnlySpan<byte> TestRetryReasonBytes => new byte[] { 177, 116, 101, 115, 116, 46, 114, 101, 116, 114, 121, 95, 114, 101, 97, 115, 111, 110 };
        // BrowserDriverBytes = MessagePack.Serialize("test.browser.driver");
        private static ReadOnlySpan<byte> BrowserDriverBytes => new byte[] { 179, 116, 101, 115, 116, 46, 98, 114, 111, 119, 115, 101, 114, 46, 100, 114, 105, 118, 101, 114 };
        // BrowserDriverVersionBytes = MessagePack.Serialize("test.browser.driver_version");
        private static ReadOnlySpan<byte> BrowserDriverVersionBytes => new byte[] { 187, 116, 101, 115, 116, 46, 98, 114, 111, 119, 115, 101, 114, 46, 100, 114, 105, 118, 101, 114, 95, 118, 101, 114, 115, 105, 111, 110 };
        // BrowserNameBytes = MessagePack.Serialize("test.browser.name");
        private static ReadOnlySpan<byte> BrowserNameBytes => new byte[] { 177, 116, 101, 115, 116, 46, 98, 114, 111, 119, 115, 101, 114, 46, 110, 97, 109, 101 };
        // BrowserVersionBytes = MessagePack.Serialize("test.browser.version");
        private static ReadOnlySpan<byte> BrowserVersionBytes => new byte[] { 180, 116, 101, 115, 116, 46, 98, 114, 111, 119, 115, 101, 114, 46, 118, 101, 114, 115, 105, 111, 110 };
        // IsRumActiveBytes = MessagePack.Serialize("test.is_rum_active");
        private static ReadOnlySpan<byte> IsRumActiveBytes => new byte[] { 178, 116, 101, 115, 116, 46, 105, 115, 95, 114, 117, 109, 95, 97, 99, 116, 105, 118, 101 };
        // IsModifiedBytes = MessagePack.Serialize("test.is_modified");
        private static ReadOnlySpan<byte> IsModifiedBytes => new byte[] { 176, 116, 101, 115, 116, 46, 105, 115, 95, 109, 111, 100, 105, 102, 105, 101, 100 };
        // IsQuarantinedBytes = MessagePack.Serialize("test.test_management.is_quarantined");
        private static ReadOnlySpan<byte> IsQuarantinedBytes => new byte[] { 217, 35, 116, 101, 115, 116, 46, 116, 101, 115, 116, 95, 109, 97, 110, 97, 103, 101, 109, 101, 110, 116, 46, 105, 115, 95, 113, 117, 97, 114, 97, 110, 116, 105, 110, 101, 100 };
        // IsDisabledBytes = MessagePack.Serialize("test.test_management.is_test_disabled");
        private static ReadOnlySpan<byte> IsDisabledBytes => new byte[] { 217, 37, 116, 101, 115, 116, 46, 116, 101, 115, 116, 95, 109, 97, 110, 97, 103, 101, 109, 101, 110, 116, 46, 105, 115, 95, 116, 101, 115, 116, 95, 100, 105, 115, 97, 98, 108, 101, 100 };
        // IsAttemptToFixBytes = MessagePack.Serialize("test.test_management.is_attempt_to_fix");
        private static ReadOnlySpan<byte> IsAttemptToFixBytes => new byte[] { 217, 38, 116, 101, 115, 116, 46, 116, 101, 115, 116, 95, 109, 97, 110, 97, 103, 101, 109, 101, 110, 116, 46, 105, 115, 95, 97, 116, 116, 101, 109, 112, 116, 95, 116, 111, 95, 102, 105, 120 };
        // HasFailedAllRetriesBytes = MessagePack.Serialize("test.has_failed_all_retries");
        private static ReadOnlySpan<byte> HasFailedAllRetriesBytes => new byte[] { 187, 116, 101, 115, 116, 46, 104, 97, 115, 95, 102, 97, 105, 108, 101, 100, 95, 97, 108, 108, 95, 114, 101, 116, 114, 105, 101, 115 };
        // AttemptToFixPassedBytes = MessagePack.Serialize("test.test_management.attempt_to_fix_passed");
        private static ReadOnlySpan<byte> AttemptToFixPassedBytes => new byte[] { 217, 42, 116, 101, 115, 116, 46, 116, 101, 115, 116, 95, 109, 97, 110, 97, 103, 101, 109, 101, 110, 116, 46, 97, 116, 116, 101, 109, 112, 116, 95, 116, 111, 95, 102, 105, 120, 95, 112, 97, 115, 115, 101, 100 };
        // CapabilitiesTestImpactAnalysisBytes = MessagePack.Serialize("_dd.library_capabilities.test_impact_analysis");
        private static ReadOnlySpan<byte> CapabilitiesTestImpactAnalysisBytes => new byte[] { 217, 45, 95, 100, 100, 46, 108, 105, 98, 114, 97, 114, 121, 95, 99, 97, 112, 97, 98, 105, 108, 105, 116, 105, 101, 115, 46, 116, 101, 115, 116, 95, 105, 109, 112, 97, 99, 116, 95, 97, 110, 97, 108, 121, 115, 105, 115 };
        // CapabilitiesEarlyFlakeDetectionBytes = MessagePack.Serialize("_dd.library_capabilities.early_flake_detection");
        private static ReadOnlySpan<byte> CapabilitiesEarlyFlakeDetectionBytes => new byte[] { 217, 46, 95, 100, 100, 46, 108, 105, 98, 114, 97, 114, 121, 95, 99, 97, 112, 97, 98, 105, 108, 105, 116, 105, 101, 115, 46, 101, 97, 114, 108, 121, 95, 102, 108, 97, 107, 101, 95, 100, 101, 116, 101, 99, 116, 105, 111, 110 };
        // CapabilitiesAutoTestRetriesBytes = MessagePack.Serialize("_dd.library_capabilities.auto_test_retries");
        private static ReadOnlySpan<byte> CapabilitiesAutoTestRetriesBytes => new byte[] { 217, 42, 95, 100, 100, 46, 108, 105, 98, 114, 97, 114, 121, 95, 99, 97, 112, 97, 98, 105, 108, 105, 116, 105, 101, 115, 46, 97, 117, 116, 111, 95, 116, 101, 115, 116, 95, 114, 101, 116, 114, 105, 101, 115 };
        // CapabilitiesTestManagementQuarantineBytes = MessagePack.Serialize("_dd.library_capabilities.test_management.quarantine");
        private static ReadOnlySpan<byte> CapabilitiesTestManagementQuarantineBytes => new byte[] { 217, 51, 95, 100, 100, 46, 108, 105, 98, 114, 97, 114, 121, 95, 99, 97, 112, 97, 98, 105, 108, 105, 116, 105, 101, 115, 46, 116, 101, 115, 116, 95, 109, 97, 110, 97, 103, 101, 109, 101, 110, 116, 46, 113, 117, 97, 114, 97, 110, 116, 105, 110, 101 };
        // CapabilitiesTestManagementDisableBytes = MessagePack.Serialize("_dd.library_capabilities.test_management.disable");
        private static ReadOnlySpan<byte> CapabilitiesTestManagementDisableBytes => new byte[] { 217, 48, 95, 100, 100, 46, 108, 105, 98, 114, 97, 114, 121, 95, 99, 97, 112, 97, 98, 105, 108, 105, 116, 105, 101, 115, 46, 116, 101, 115, 116, 95, 109, 97, 110, 97, 103, 101, 109, 101, 110, 116, 46, 100, 105, 115, 97, 98, 108, 101 };
        // CapabilitiesTestManagementAttemptToFixBytes = MessagePack.Serialize("_dd.library_capabilities.test_management.attempt_to_fix");
        private static ReadOnlySpan<byte> CapabilitiesTestManagementAttemptToFixBytes => new byte[] { 217, 55, 95, 100, 100, 46, 108, 105, 98, 114, 97, 114, 121, 95, 99, 97, 112, 97, 98, 105, 108, 105, 116, 105, 101, 115, 46, 116, 101, 115, 116, 95, 109, 97, 110, 97, 103, 101, 109, 101, 110, 116, 46, 97, 116, 116, 101, 109, 112, 116, 95, 116, 111, 95, 102, 105, 120 };

        public override string? GetTag(string key)
        {
            return key switch
            {
                "test.name" => Name,
                "test.parameters" => Parameters,
                "test.traits" => Traits,
                "test.skip_reason" => SkipReason,
                "test.skipped_by_itr" => SkippedByIntelligentTestRunner,
                "test.itr.unskippable" => Unskippable,
                "test.itr.forced_run" => ForcedRun,
                "test.is_new" => TestIsNew,
                "test.is_retry" => TestIsRetry,
                "test.retry_reason" => TestRetryReason,
                "test.browser.driver" => BrowserDriver,
                "test.browser.driver_version" => BrowserDriverVersion,
                "test.browser.name" => BrowserName,
                "test.browser.version" => BrowserVersion,
                "test.is_rum_active" => IsRumActive,
                "test.is_modified" => IsModified,
                "test.test_management.is_quarantined" => IsQuarantined,
                "test.test_management.is_test_disabled" => IsDisabled,
                "test.test_management.is_attempt_to_fix" => IsAttemptToFix,
                "test.has_failed_all_retries" => HasFailedAllRetries,
                "test.test_management.attempt_to_fix_passed" => AttemptToFixPassed,
                "_dd.library_capabilities.test_impact_analysis" => CapabilitiesTestImpactAnalysis,
                "_dd.library_capabilities.early_flake_detection" => CapabilitiesEarlyFlakeDetection,
                "_dd.library_capabilities.auto_test_retries" => CapabilitiesAutoTestRetries,
                "_dd.library_capabilities.test_management.quarantine" => CapabilitiesTestManagementQuarantine,
                "_dd.library_capabilities.test_management.disable" => CapabilitiesTestManagementDisable,
                "_dd.library_capabilities.test_management.attempt_to_fix" => CapabilitiesTestManagementAttemptToFix,
                _ => base.GetTag(key),
            };
        }

        public override void SetTag(string key, string value)
        {
            switch(key)
            {
                case "test.name": 
                    Name = value;
                    break;
                case "test.parameters": 
                    Parameters = value;
                    break;
                case "test.traits": 
                    Traits = value;
                    break;
                case "test.skip_reason": 
                    SkipReason = value;
                    break;
                case "test.skipped_by_itr": 
                    SkippedByIntelligentTestRunner = value;
                    break;
                case "test.itr.unskippable": 
                    Unskippable = value;
                    break;
                case "test.itr.forced_run": 
                    ForcedRun = value;
                    break;
                case "test.is_new": 
                    TestIsNew = value;
                    break;
                case "test.is_retry": 
                    TestIsRetry = value;
                    break;
                case "test.retry_reason": 
                    TestRetryReason = value;
                    break;
                case "test.browser.driver": 
                    BrowserDriver = value;
                    break;
                case "test.browser.driver_version": 
                    BrowserDriverVersion = value;
                    break;
                case "test.browser.name": 
                    BrowserName = value;
                    break;
                case "test.browser.version": 
                    BrowserVersion = value;
                    break;
                case "test.is_rum_active": 
                    IsRumActive = value;
                    break;
                case "test.is_modified": 
                    IsModified = value;
                    break;
                case "test.test_management.is_quarantined": 
                    IsQuarantined = value;
                    break;
                case "test.test_management.is_test_disabled": 
                    IsDisabled = value;
                    break;
                case "test.test_management.is_attempt_to_fix": 
                    IsAttemptToFix = value;
                    break;
                case "test.has_failed_all_retries": 
                    HasFailedAllRetries = value;
                    break;
                case "test.test_management.attempt_to_fix_passed": 
                    AttemptToFixPassed = value;
                    break;
                case "_dd.library_capabilities.test_impact_analysis": 
                    CapabilitiesTestImpactAnalysis = value;
                    break;
                case "_dd.library_capabilities.early_flake_detection": 
                    CapabilitiesEarlyFlakeDetection = value;
                    break;
                case "_dd.library_capabilities.auto_test_retries": 
                    CapabilitiesAutoTestRetries = value;
                    break;
                case "_dd.library_capabilities.test_management.quarantine": 
                    CapabilitiesTestManagementQuarantine = value;
                    break;
                case "_dd.library_capabilities.test_management.disable": 
                    CapabilitiesTestManagementDisable = value;
                    break;
                case "_dd.library_capabilities.test_management.attempt_to_fix": 
                    CapabilitiesTestManagementAttemptToFix = value;
                    break;
                default: 
                    base.SetTag(key, value);
                    break;
            }
        }

        public override void EnumerateTags<TProcessor>(ref TProcessor processor)
        {
            if (Name is not null)
            {
                processor.Process(new TagItem<string>("test.name", Name, NameBytes));
            }

            if (Parameters is not null)
            {
                processor.Process(new TagItem<string>("test.parameters", Parameters, ParametersBytes));
            }

            if (Traits is not null)
            {
                processor.Process(new TagItem<string>("test.traits", Traits, TraitsBytes));
            }

            if (SkipReason is not null)
            {
                processor.Process(new TagItem<string>("test.skip_reason", SkipReason, SkipReasonBytes));
            }

            if (SkippedByIntelligentTestRunner is not null)
            {
                processor.Process(new TagItem<string>("test.skipped_by_itr", SkippedByIntelligentTestRunner, SkippedByIntelligentTestRunnerBytes));
            }

            if (Unskippable is not null)
            {
                processor.Process(new TagItem<string>("test.itr.unskippable", Unskippable, UnskippableBytes));
            }

            if (ForcedRun is not null)
            {
                processor.Process(new TagItem<string>("test.itr.forced_run", ForcedRun, ForcedRunBytes));
            }

            if (TestIsNew is not null)
            {
                processor.Process(new TagItem<string>("test.is_new", TestIsNew, TestIsNewBytes));
            }

            if (TestIsRetry is not null)
            {
                processor.Process(new TagItem<string>("test.is_retry", TestIsRetry, TestIsRetryBytes));
            }

            if (TestRetryReason is not null)
            {
                processor.Process(new TagItem<string>("test.retry_reason", TestRetryReason, TestRetryReasonBytes));
            }

            if (BrowserDriver is not null)
            {
                processor.Process(new TagItem<string>("test.browser.driver", BrowserDriver, BrowserDriverBytes));
            }

            if (BrowserDriverVersion is not null)
            {
                processor.Process(new TagItem<string>("test.browser.driver_version", BrowserDriverVersion, BrowserDriverVersionBytes));
            }

            if (BrowserName is not null)
            {
                processor.Process(new TagItem<string>("test.browser.name", BrowserName, BrowserNameBytes));
            }

            if (BrowserVersion is not null)
            {
                processor.Process(new TagItem<string>("test.browser.version", BrowserVersion, BrowserVersionBytes));
            }

            if (IsRumActive is not null)
            {
                processor.Process(new TagItem<string>("test.is_rum_active", IsRumActive, IsRumActiveBytes));
            }

            if (IsModified is not null)
            {
                processor.Process(new TagItem<string>("test.is_modified", IsModified, IsModifiedBytes));
            }

            if (IsQuarantined is not null)
            {
                processor.Process(new TagItem<string>("test.test_management.is_quarantined", IsQuarantined, IsQuarantinedBytes));
            }

            if (IsDisabled is not null)
            {
                processor.Process(new TagItem<string>("test.test_management.is_test_disabled", IsDisabled, IsDisabledBytes));
            }

            if (IsAttemptToFix is not null)
            {
                processor.Process(new TagItem<string>("test.test_management.is_attempt_to_fix", IsAttemptToFix, IsAttemptToFixBytes));
            }

            if (HasFailedAllRetries is not null)
            {
                processor.Process(new TagItem<string>("test.has_failed_all_retries", HasFailedAllRetries, HasFailedAllRetriesBytes));
            }

            if (AttemptToFixPassed is not null)
            {
                processor.Process(new TagItem<string>("test.test_management.attempt_to_fix_passed", AttemptToFixPassed, AttemptToFixPassedBytes));
            }

            if (CapabilitiesTestImpactAnalysis is not null)
            {
                processor.Process(new TagItem<string>("_dd.library_capabilities.test_impact_analysis", CapabilitiesTestImpactAnalysis, CapabilitiesTestImpactAnalysisBytes));
            }

            if (CapabilitiesEarlyFlakeDetection is not null)
            {
                processor.Process(new TagItem<string>("_dd.library_capabilities.early_flake_detection", CapabilitiesEarlyFlakeDetection, CapabilitiesEarlyFlakeDetectionBytes));
            }

            if (CapabilitiesAutoTestRetries is not null)
            {
                processor.Process(new TagItem<string>("_dd.library_capabilities.auto_test_retries", CapabilitiesAutoTestRetries, CapabilitiesAutoTestRetriesBytes));
            }

            if (CapabilitiesTestManagementQuarantine is not null)
            {
                processor.Process(new TagItem<string>("_dd.library_capabilities.test_management.quarantine", CapabilitiesTestManagementQuarantine, CapabilitiesTestManagementQuarantineBytes));
            }

            if (CapabilitiesTestManagementDisable is not null)
            {
                processor.Process(new TagItem<string>("_dd.library_capabilities.test_management.disable", CapabilitiesTestManagementDisable, CapabilitiesTestManagementDisableBytes));
            }

            if (CapabilitiesTestManagementAttemptToFix is not null)
            {
                processor.Process(new TagItem<string>("_dd.library_capabilities.test_management.attempt_to_fix", CapabilitiesTestManagementAttemptToFix, CapabilitiesTestManagementAttemptToFixBytes));
            }

            base.EnumerateTags(ref processor);
        }

        protected override void WriteAdditionalTags(System.Text.StringBuilder sb)
        {
            if (Name is not null)
            {
                sb.Append("test.name (tag):")
                  .Append(Name)
                  .Append(',');
            }

            if (Parameters is not null)
            {
                sb.Append("test.parameters (tag):")
                  .Append(Parameters)
                  .Append(',');
            }

            if (Traits is not null)
            {
                sb.Append("test.traits (tag):")
                  .Append(Traits)
                  .Append(',');
            }

            if (SkipReason is not null)
            {
                sb.Append("test.skip_reason (tag):")
                  .Append(SkipReason)
                  .Append(',');
            }

            if (SkippedByIntelligentTestRunner is not null)
            {
                sb.Append("test.skipped_by_itr (tag):")
                  .Append(SkippedByIntelligentTestRunner)
                  .Append(',');
            }

            if (Unskippable is not null)
            {
                sb.Append("test.itr.unskippable (tag):")
                  .Append(Unskippable)
                  .Append(',');
            }

            if (ForcedRun is not null)
            {
                sb.Append("test.itr.forced_run (tag):")
                  .Append(ForcedRun)
                  .Append(',');
            }

            if (TestIsNew is not null)
            {
                sb.Append("test.is_new (tag):")
                  .Append(TestIsNew)
                  .Append(',');
            }

            if (TestIsRetry is not null)
            {
                sb.Append("test.is_retry (tag):")
                  .Append(TestIsRetry)
                  .Append(',');
            }

            if (TestRetryReason is not null)
            {
                sb.Append("test.retry_reason (tag):")
                  .Append(TestRetryReason)
                  .Append(',');
            }

            if (BrowserDriver is not null)
            {
                sb.Append("test.browser.driver (tag):")
                  .Append(BrowserDriver)
                  .Append(',');
            }

            if (BrowserDriverVersion is not null)
            {
                sb.Append("test.browser.driver_version (tag):")
                  .Append(BrowserDriverVersion)
                  .Append(',');
            }

            if (BrowserName is not null)
            {
                sb.Append("test.browser.name (tag):")
                  .Append(BrowserName)
                  .Append(',');
            }

            if (BrowserVersion is not null)
            {
                sb.Append("test.browser.version (tag):")
                  .Append(BrowserVersion)
                  .Append(',');
            }

            if (IsRumActive is not null)
            {
                sb.Append("test.is_rum_active (tag):")
                  .Append(IsRumActive)
                  .Append(',');
            }

            if (IsModified is not null)
            {
                sb.Append("test.is_modified (tag):")
                  .Append(IsModified)
                  .Append(',');
            }

            if (IsQuarantined is not null)
            {
                sb.Append("test.test_management.is_quarantined (tag):")
                  .Append(IsQuarantined)
                  .Append(',');
            }

            if (IsDisabled is not null)
            {
                sb.Append("test.test_management.is_test_disabled (tag):")
                  .Append(IsDisabled)
                  .Append(',');
            }

            if (IsAttemptToFix is not null)
            {
                sb.Append("test.test_management.is_attempt_to_fix (tag):")
                  .Append(IsAttemptToFix)
                  .Append(',');
            }

            if (HasFailedAllRetries is not null)
            {
                sb.Append("test.has_failed_all_retries (tag):")
                  .Append(HasFailedAllRetries)
                  .Append(',');
            }

            if (AttemptToFixPassed is not null)
            {
                sb.Append("test.test_management.attempt_to_fix_passed (tag):")
                  .Append(AttemptToFixPassed)
                  .Append(',');
            }

            if (CapabilitiesTestImpactAnalysis is not null)
            {
                sb.Append("_dd.library_capabilities.test_impact_analysis (tag):")
                  .Append(CapabilitiesTestImpactAnalysis)
                  .Append(',');
            }

            if (CapabilitiesEarlyFlakeDetection is not null)
            {
                sb.Append("_dd.library_capabilities.early_flake_detection (tag):")
                  .Append(CapabilitiesEarlyFlakeDetection)
                  .Append(',');
            }

            if (CapabilitiesAutoTestRetries is not null)
            {
                sb.Append("_dd.library_capabilities.auto_test_retries (tag):")
                  .Append(CapabilitiesAutoTestRetries)
                  .Append(',');
            }

            if (CapabilitiesTestManagementQuarantine is not null)
            {
                sb.Append("_dd.library_capabilities.test_management.quarantine (tag):")
                  .Append(CapabilitiesTestManagementQuarantine)
                  .Append(',');
            }

            if (CapabilitiesTestManagementDisable is not null)
            {
                sb.Append("_dd.library_capabilities.test_management.disable (tag):")
                  .Append(CapabilitiesTestManagementDisable)
                  .Append(',');
            }

            if (CapabilitiesTestManagementAttemptToFix is not null)
            {
                sb.Append("_dd.library_capabilities.test_management.attempt_to_fix (tag):")
                  .Append(CapabilitiesTestManagementAttemptToFix)
                  .Append(',');
            }

            base.WriteAdditionalTags(sb);
        }
        public override double? GetMetric(string key)
        {
            return key switch
            {
                "test.source.start" => SourceStart,
                "test.source.end" => SourceEnd,
                _ => base.GetMetric(key),
            };
        }

        public override void SetMetric(string key, double? value)
        {
            switch(key)
            {
                case "test.source.start": 
                    SourceStart = value;
                    break;
                case "test.source.end": 
                    SourceEnd = value;
                    break;
                default: 
                    base.SetMetric(key, value);
                    break;
            }
        }

        public override void EnumerateMetrics<TProcessor>(ref TProcessor processor)
        {
            if (SourceStart is not null)
            {
                processor.Process(new TagItem<double>("test.source.start", SourceStart.Value, SourceStartBytes));
            }

            if (SourceEnd is not null)
            {
                processor.Process(new TagItem<double>("test.source.end", SourceEnd.Value, SourceEndBytes));
            }

            base.EnumerateMetrics(ref processor);
        }

        protected override void WriteAdditionalMetrics(System.Text.StringBuilder sb)
        {
            if (SourceStart is not null)
            {
                sb.Append("test.source.start (metric):")
                  .Append(SourceStart.Value)
                  .Append(',');
            }

            if (SourceEnd is not null)
            {
                sb.Append("test.source.end (metric):")
                  .Append(SourceEnd.Value)
                  .Append(',');
            }

            base.WriteAdditionalMetrics(sb);
        }
    }
}
