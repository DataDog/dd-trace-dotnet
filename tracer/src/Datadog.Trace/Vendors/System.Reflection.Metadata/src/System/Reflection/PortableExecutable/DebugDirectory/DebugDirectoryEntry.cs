//------------------------------------------------------------------------------
// <auto-generated />
// This file was automatically generated by the UpdateVendors tool.
//------------------------------------------------------------------------------
#pragma warning disable CS0618, CS0649, CS1574, CS1580, CS1581, CS1584, CS1591, CS1573, CS8018, SYSLIB0011, SYSLIB0032
#pragma warning disable CS8600, CS8601, CS8602, CS8603, CS8604, CS8618, CS8620, CS8714, CS8762, CS8765, CS8766, CS8767, CS8768, CS8769, CS8612, CS8629, CS8774
#nullable enable
// Decompiled with JetBrains decompiler
// Type: System.Reflection.PortableExecutable.DebugDirectoryEntry
// Assembly: System.Reflection.Metadata, Version=7.0.0.2, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: 2EB35F4B-CF50-496F-AFB8-CC6F6F79CB72

namespace Datadog.Trace.VendoredMicrosoftCode.System.Reflection.PortableExecutable
{
  /// <summary>
  /// Identifies the location, size and format of a block of debug information.
  /// </summary>
  internal readonly struct DebugDirectoryEntry
  {
    internal const int Size = 28;

    /// <summary>
    /// The time and date that the debug data was created if the PE/COFF file is not deterministic,
    /// otherwise a value based on the hash of the content.
    /// </summary>
    /// <remarks>
    /// The algorithm used to calculate this value is an implementation
    /// detail of the tool that produced the file.
    /// </remarks>
    public uint Stamp { get; }

    /// <summary>The major version number of the debug data format.</summary>
    public ushort MajorVersion { get; }

    /// <summary>The minor version number of the debug data format.</summary>
    public ushort MinorVersion { get; }

    /// <summary>The format of debugging information.</summary>
    public DebugDirectoryEntryType Type { get; }

    /// <summary>
    /// The size of the debug data (not including the debug directory itself).
    /// </summary>
    public int DataSize { get; }

    /// <summary>
    /// The address of the debug data when loaded, relative to the image base.
    /// </summary>
    public int DataRelativeVirtualAddress { get; }

    /// <summary>The file pointer to the debug data.</summary>
    public int DataPointer { get; }

    /// <summary>
    /// True if the entry is a <see cref="F:System.Reflection.PortableExecutable.DebugDirectoryEntryType.CodeView" /> entry pointing to a Portable PDB.
    /// </summary>
    public bool IsPortableCodeView => this.MinorVersion == (ushort) 20557;

    public DebugDirectoryEntry(
      uint stamp,
      ushort majorVersion,
      ushort minorVersion,
      DebugDirectoryEntryType type,
      int dataSize,
      int dataRelativeVirtualAddress,
      int dataPointer)
    {
      this.Stamp = stamp;
      this.MajorVersion = majorVersion;
      this.MinorVersion = minorVersion;
      this.Type = type;
      this.DataSize = dataSize;
      this.DataRelativeVirtualAddress = dataRelativeVirtualAddress;
      this.DataPointer = dataPointer;
    }
  }
}
