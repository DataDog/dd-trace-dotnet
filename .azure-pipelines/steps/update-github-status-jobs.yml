parameters:
  - name: 'jobs'
    type: object
    default: {}

jobs:
  - job: set_pending
    pool:
      vmImage: ubuntu-18.04
    steps:
    - checkout: none
    - template: update-github-status-pending.yml

  - job: set_result
    pool:
      vmImage: ubuntu-18.04
    dependsOn:
    - set_pending
    - ${{ each job in parameters.jobs }}:
      - ${{ job }}
    steps:
    - checkout: none
    - template: update-github-status-result.yml
      parameters:
        success: succeeded()