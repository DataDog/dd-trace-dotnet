# The thresholds were set conservatively (~20% margin) for an initial, non-blocking setup.
# TODO: Calibrate thresholds based on historical data once results for a few runs are collected.

experiments:
  - name: Check SLO breaches
    steps:
      - name: Fail on breach
        run: fail_on_breach
        scenarios:
          # Catch-all for all macrobenchmark scenarios
          # Observed throughput: ~10k op/s, p95 latency: 26-51ms
          - name: .*
            thresholds:
              - throughput > 8000 op/s
              - agg_http_req_duration_p95 < 65 ms
